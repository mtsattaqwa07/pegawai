<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Input Data Siswa</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="shortcut icon" href="logo.png" type="image/x-icon" />
    <style>
      body {
        background-color: rgb(129, 237, 245);
        justify-content: center;
      }
      label {
        color: black;
      }
      h3 {
        color: black;
        text-align: center;
        font-size: 1rem;
      }
      a {
        color: black;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div class="container mt-4">
      <h3>FORM INPUT DATA SISWA</h3>
      <div class="alert alert-warning text-center" role="alert">
        SIlahkan masukan data siswa/i Anda dengan
        <strong>cermat & teliti!</strong>
      </div>
      <!-- Content here -->
      <form name="rdm">
        <div class="row">
          <div class="col-sm-2">
            <label>Nomor ID</label>
            <input
              name="id"
              type="number"
              class="form-control mb-4"
              placeholder="nomor ID"
            />
          </div>

          <div class="col-sm-3">
            <label>Nama Lengkap</label>
            <input
              name="nama"
              type="text"
              class="form-control mb-4"
              placeholder="masukan nama lengkap"
            />
          </div>

          <div class="col-sm-2">
            <label>Nomor NISN</label>
            <input
              name="nisn"
              type="number"
              class="form-control mb-4"
              placeholder="masukan NISN"
            />
          </div>

          <div class="col-sm-3">
            <label>Nomor NIS</label>
            <input
              name="nis"
              type="number"
              class="form-control mb-4"
              placeholder="masukan NIS"
            />
          </div>

          <div class="col-sm-2">
            <label>Jenis Kelamin</label>
            <select
              name="jenis_kelamin"
              class="form-select mb-4"
              id="autoSizingSelect"
            >
              <option selected>-Pilih-</option>
              <option value="Laki-laki">Laki-laki</option>
              <option value="Perempuan">Perempuan</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Tempat Lahir</label>
            <input
              name="tempat_lahir"
              type="text"
              class="form-control mb-4"
              placeholder="Tempat Lahir"
            />
          </div>

          <div class="col-sm-2">
            <label>Tanggal Lahir</label>
            <input
              name="tanggal_lahir"
              type="text"
              class="form-control mb-4"
              placeholder="tgl-bln-thn"
            />
          </div>

          <div class="col-sm-2">
            <label>Agama</label>
            <select name="agama" class="form-select mb-4" id="autoSizingSelect">
              <option selected>-Pilih-</option>
              <option value="Islam">Islam</option>
              <option value="Lainnya">Lainnya</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Status Keluarga</label>
            <select
              name="status_keluarga"
              class="form-control mb-4"
              id="autoSizingSelect"
            >
              <option selected>-Pilih-</option>
              <option value="Anak Kandung">Anak Kandung</option>
              <option value="Anak Kandung">Anak Angkat</option>
              <option value="Anak Kandung">Anak Tiri</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Anak ke</label>
            <input
              name="anak_ke"
              type="number"
              class="form-control mb-4"
              placeholder="Urutan Anak"
            />
          </div>

          <div class="col-sm-2">
            <label>Telp. Siswa</label>
            <input
              name="telp_siswa"
              type="number"
              class="form-control mb-4"
              placeholder="Nomor HP Siswa"
            />
          </div>

          <div class="col-sm-4">
            <label>Alamat</label>
            <input
              name="alamat"
              type="text"
              class="form-control mb-4"
              placeholder="masukan alamat"
            />
          </div>

          <div class="col-sm-2">
            <label>Sekolah Asal</label>
            <input
              name="sekolah_asal"
              type="text"
              class="form-control mb-4"
              placeholder="SD/MI"
            />
          </div>

          <div class="col-sm-2">
            <label>Tanggal Diterima</label>
            <input
              name="tanggal_diterima"
              type="text"
              class="form-control mb-4"
              placeholder="tgl-bln-thn"
            />
          </div>

          <div class="col-sm-2">
            <label>Nama Ayah</label>
            <input
              name="ayah"
              type="text"
              class="form-control mb-4"
              placeholder="ayah kandung"
            />
          </div>

          <div class="col-sm-2">
            <label>Nama Ibu</label>
            <input
              name="ibu"
              type="text"
              class="form-control mb-4"
              placeholder="ibu kandung"
            />
          </div>

          <div class="col-sm-2">
            <label>Pekerjaan Ayah</label>
            <select
              name="pekerjaan_ayah"
              class="form-control mb-4"
              id="autoSizingSelect"
            >
              <option selected>-Pilih-</option>
              <option value="Tidak Bekerja">Tidak Bekerja</option>
              <option value="TNI / Polri">TNI / Polri</option>
              <option value="ASN">ASN</option>
              <option value="Wiraswasta">Wiraswasta</option>
              <option value="Karyawan">Karyawan</option>
              <option value="Buruh">Buruh</option>
              <option value="Pensiun">Pensiun</option>
              <option value="Lainnya">Lainnya</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Pekerjaan Ibu</label>
            <select
              name="pekerjaan_ibu"
              class="form-control mb-4"
              id="autoSizingSelect"
            >
              <option selected>-Pilih-</option>
              <option value="Ibu Rumah Tangga">Ibu Rumah Tangga</option>
              <option value="TNI / Polri">TNI / Polri</option>
              <option value="ASN">ASN</option>
              <option value="Wiraswasta">Wiraswasta</option>
              <option value="Karyawan">Karyawan</option>
              <option value="Buruh">Buruh</option>
              <option value="Pensiun">Pensiun</option>
              <option value="Lainnya">Lainnya</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Alamat Orang Tua</label>
            <input
              name="alamat_orangtua"
              type="text"
              class="form-control mb-4"
              placeholder="alamat orang tua"
            />
          </div>

          <div class="col-sm-2">
            <label>Nama Wali</label>
            <input
              name="nama_wali"
              type="text"
              class="form-control mb-4"
              placeholder="nama lengkap wali"
            />
          </div>

          <div class="col-sm-2">
            <label>Pekerjaan Wali</label>
            <select
              name="pekerjaan_wali"
              class="form-select mb-4"
              id="autoSizingSelect"
            >
              <option selected>-Pilih-</option>
              <option value="Tidak Bekerja">Tidak Bekerja</option>
              <option value="TNI / Polri">TNI / Polri</option>
              <option value="ASN">ASN</option>
              <option value="Wiraswasta">Wiraswasta</option>
              <option value="Karyawan">Karyawan</option>
              <option value="Buruh">Buruh</option>
              <option value="Pensiun">Pensiun</option>
              <option value="Lainnya">Lainnya</option>
              <option value="-">-</option>
            </select>
          </div>

          <div class="col-sm-2">
            <label>Alamat Wali</label>
            <input
              name="alamat_wali"
              type="text"
              class="form-control mb-4"
              placeholder="alamat wali"
            />
          </div>

          <button
            class="btn btn-danger btn-kirim d-none"
            type="button"
            disabled
          >
            <span
              class="spinner-border spinner-border-sm"
              aria-hidden="true"
            ></span>
            <span role="status">Harap Tunggu</span>
          </button>

          <button type="submit" class="btn btn-danger btn-loading">
            Input Data Siswa
          </button>

          <div
            class="alert alert-warning alert-dismissible fade text-center show mt-3 my-alert d-none"
            role="alert"
          >
            <strong>Selamat</strong> Anda sudah berhasil menambahkan data siswa
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
              aria-label="Close"
            ></button>
          </div>
        </div>
      </form>
    </div>

    <footer class="text-center mt-5">
      <a
        href="https://getbootstrap.com/docs/5.3/getting-started/introduction/"
        target="_blank"
        >bostrap 5.3</a
      >
    </footer>

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyIX22_7J3YMboqmLlUKlRWFHpSqsbxcmwmUoPSR0A49b9i_abUHdKOxdImV1_LlNA4/exec";
      const form = document.forms["rdm"];
      const btnKirim = document.querySelector(".btn-kirim");
      const btnLoading = document.querySelector(".btn-loading");
      const myAlert = document.querySelector(".my-alert");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        // ketika tombol submit di klik
        // tampilkan tombol loading, hilangkan tombol kirim
        btnLoading.classList.toggle("d-none");
        btnKirim.classList.toggle("d-none");
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            // tampilkan tombol kirim, hilangkan tombol loading
            btnLoading.classList.toggle("d-none");
            btnKirim.classList.toggle("d-none");
            // tampilkan alert
            myAlert.classList.toggle("d-none");
            // reset formnya
            form.reset();
            console.log("Success!", response);
          })
          .catch((error) => console.error("Error!", error.message));
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
